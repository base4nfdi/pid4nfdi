---
title: "DOIs for Instruments at the Helmholtz-Zentrum Berlin"
date: 2025-10-15
type: "landing"

sections:
  - block: markdown
    content:
        title: DOIs for Instruments at the Helmholtz-Zentrum Berlin
        text: |
            <br/>          
  
            ## Introduction: BESSY II and BER II
            
            The Helmholtz Zentrum Berlin für Materialien und Energie (HZB) operates the BESSY II synchrotron radiation source and, until the end of 2019, did operate the BER II neutron source.  BESSY II is a third-generation synchrotron radiation source that produces extremely bright X-ray light which is fed through beamlines to experiment stations, where researchers use it for their experiments. The radiation is directed onto a sample, resulting in measurements which can be used to examine the sample. BER II had a reactor as a neutron source. Neutrons were generated as a chain reaction within the reactor. Some of them were led into beamlines and could be used to examine samples at experiment stations.
        
            <br/>

            ## Motivation: Interlinking Research Outputs
            
            The main motivation behind registering PIDs for instruments is to improve the interlinking of research outputs. Linking a dataset to the instrument that generated it provides more detailed provenance information for the dataset. For instance, the instrument PID could contain or reference specific technical details about the instrument that are pertinent to the dataset generation, thereby enhancing the FAIRness of the research data. Furthermore, interlinking datasets and instruments makes it easier to track an instrument's scientific output, or to find other datasets generated by the same instrument [[1]]({{<ref "#1" >}}).
                    
  - block: markdown
    content:
        text: |
            ## Which Devices Get PIDs?
          
            The HZB has registered DOIs via DataCite for the beamlines of BER II and the beamlines and experiment stations of BESSY II. In the case of BESSY II, the process of registering DOIs for all beamlines and experiment stations has started but is not yet complete, simply due to staffing capacity issues. Currently, there are 24 instrument DOIs already registered, including 15 beamlines of BER II, 5 beamlines of BESSY II and 4 experiment stations of BESSY II. As there are a total of approximately 45 beamlines and 60 experiment stations at BESSY II, more DOIs are planned to be registered at a later stage.
            
            The beamlines and experiment stations are custom built: they are one of a kind and there is no external manufacturer or model. They may contain off-the-shelf components, though. It takes the combination of a beamline and an experimental station to conduct a measurement. In the case of BER II, the beamlines and experiment stations were permanently connected to each other and considered as a single instrument. For BESSY II, some experiment stations are fixedly attached to a beamline, some stations may be moved between beamlines. Hence, DOIs are separately assigned to beamlines and experiment stations such that two DOIs together can uniquely identify the experimental environment [[2]]({{<ref "#2" >}}).             
            
            According to the PIDINST Whitepaper, an instrument is defined as a “device used for making measurements, alone or in conjunction with one or more supplementary devices” [[3]]({{<ref "#3" >}}). Strictly speaking, the beamlines themselves are not recording any measurements. However, they are part of the overall experimental setup and thus also assigned DOIs for practicality.

  - block: markdown
    content:
        text: |
            ## PID Registration Workflow
          
            Research instruments are registered and curated by HZB instrument scientists within the HZB instrument database IGAMA. Instruments in this database are assigned a DataCite DOI as needed. The main motivation for assigning DOIs is to interlink research outputs, whereas the database's main purpose is to allow users to find technical information about the instrument and to apply for experimental time. 
          
            Unlike many other services which assign PIDs, the PID registration for instruments at HZB is carried out centrally by a single employee, in consultation with the library and the scientists responsible for the instruments. It is very important to centrally coordinate the registration of instruments which are often reused by various researchers. Otherwise, if researchers were encouraged to assign PIDs to used instruments themselves, one instrument could end up with lots of different PIDs.
          
            ![PID workflow](/images/use-cases/instruments-hzb/pid_workflow.jpg)

            Figure 1: Instrument DOI registration workflow

            The DataCite repository where the DOIs are registered is called “Helmholtz-Zentrum Berlin für Materialien und Energie GmbH” [[4]]({{<ref "#4" >}}) and is part of the TIB consortium at DataCite. Registration of DOIs is carried out via the DataCite REST API. There is no direct integration between IGAMA and DataCite. In particular, no script runs to automatically extract PID metadata from the database to fill in the DataCite metadata fields. Given the relatively small number of instruments that need to be registered, it is simply not worth the effort to automate this process. Instead, a suggestion for the DataCite DOI metadata is generated manually (based on the metadata of the database entry).
            
            Afterwards, the draft is reviewed by the responsible instrument scientist, who will either accept it or improve the metadata record. Metadata collection and review is the most labour-intensive part of PID registration and is not always easy, but it is important to ensure high-quality metadata. Apart from metadata collection, the entire PID registration process for instruments was considered not complicated.
          
  - block: markdown
    content:
        text: |
            ## Example PID: The E2 Flat-Cone-Diffractometer
          
            Here is an instrument DOI 10.5442/NI000001 which you may look at as an example. The DOI uniquely identifies the “E2 Flat-Cone-Diffractometer”, a beamline which was part of BER II. The DOI has the following components/links:

            - DOI (displayed as URL together with its resolver): https://doi.org/10.5442/NI000001 

            - Landing page: The DOI resolves to an entry in the IGAMA database representing the beamline, available at the URL https://www.helmholtz-berlin.de/pubbin/igama_output?modus=einzel&sprache=en&gid=1698   
            
            - DataCite Commons: The DOI information and metadata is available at https://commons.datacite.org/doi.org/10.5442/NI000001      

            - DataCite Metadata: The DataCite metadata can be downloaded in different formats via the DataCite API. Here, it is in JSON format: https://api.datacite.org/application/vnd.datacite.datacite+json/10.5442/NI000001 

  - block: markdown
    content:
        text: |
            ## Metadata and Curation

            DataCite adopts the PIDINST metadata schema [[5]]({{<ref "#5" >}}). That is, there is a partial mapping from the PIDINST metadata schema to the DataCite metadata schema (for details, see [[6]]({{<ref "#6" >}})). To register an instrument DOI at DataCite, metadata is entered based on the requirements of the PIDINST/DataCite mapping. 

            On the one hand, as the beamlines and experiment stations usually do not change much over time, little metadata curation is necessary. However, if a device is decommissioned, it is good practice to record this in the instrument's DOI metadata (see, for example, the metadata for PID 10.5442/NI000001 [[7]]({{<ref "#7" >}}), where the instrument's availability is given under the dates property). 

            On the other hand, DataCite regularly updates its metadata schema. Schema version 4.5 enhanced the support of instrument PIDs in comparison to schema version 4.4, for example by adding the resourceTypeGeneral “Instrument”. HZB updated their instrument DOIs metadata accordingly.

  - block: markdown
    content:
        text: |
            ## Cross-Linking Instruments: Good Practice Examples

            As the main motivation behind assigning PIDs for the instruments was to interlink the instrument PIDs with corresponding research outputs, we present examples of good practice to show how this is carried out. 

            Typical research outputs which may be interlinked with instrument PIDs are datasets, publications, and journal articles. Theoretically, there would be two ways of how any of these types of research outputs could be linked with an instrument:
          
            1. <ins>Research output → instrument</ins>: The research output contains a reference to the instrument which collected the data (either via citation within the research output, or a link in the PID metadata).
          
            2. <ins>Instrument → Research output</ins>: The PID metadata of the instrument contains a reference to the research output connected to this instrument.
          
            We discuss the different options in the following.  
          
  - block: markdown
    content:
        text: |
            ## Connecting a Dataset PID to an Instrument PID
          
            <ins>Dataset --> Instrument</ins>
          
            Raw data is analyzed and processed until it ends up in a dataset which is ready for publication. Researchers whose publication data are based on raw data recorded at BER II or BESSY II have the possibility to publish their data in collaboration with HZB. In this case, the data are published at the HZB Data Service and receive a DataCite DOI. During the publication process, metadata is curated by HZB staff. As part of the curation process, the link to the instrument DOI is entered into the DOI metadata of the publication dataset.

            This way, it is possible to make sure that the instrument PID is entered into the DOI metadata of the publication data. However, this is an idealized workflow where curation ensures that an instrument PID is entered. Often, datasets are uploaded to external repositories. Then, there might be no clear way how datasets are connected to the PID of the generating instrument because of three reasons:

            - The researcher is not aware that the instrument has a PID which he can use.

            - The external repository does not provide fields to enter an instrument PID.

            - Even if the repository provides those fields, the information entered by the user may not be correctly included into the information that is passed on to DataCite by the system. 
          
            In this case, linking the dataset to the instrument often simply does not work out properly.
 
            <img src="/images/use-cases/instruments-hzb/link_data.jpg" alt="dataset" width="800"/>

            Figure 2: Connecting a dataset to an instrument via DataCite *relatedIdentifiers* (solid line). The dashed line represents the connection from the instrument to the dataset, which is not implemented by the HZB use-case because it does not scale. 

            <ins>Instrument → Dataset</ins>

            At HZB, DOIs for experiment stations and beamlines are centrally registered by HZB staff. As a consequence, researchers cannot directly enter their dataset PIDs into the instrument PID because they don’t have access to it.

            If HZB still wanted to collect those datasets in the instrument PID metadata, they would have to regularly collect all data publications and enter their PIDs into the instrument PID metadata. This approach would be theoretically possible, but in practice, it does not scale: there are simply way too many datasets being collected at any given instrument. Adding all of them as a related identifier to the instrument's PID record would bloat it beyond what is manageable.
 
  - block: markdown
    content:
        text: |
          ## Connecting a Related Journal Article PID to an Instrument PID
          
          In the case of large, self-built devices such as the beamlines and experiment stations at BER II and BESSY II, often, journal articles are written to describe the devices. 

          <ins>Instrument → Journal Article</ins>

          In this case, the journal article is entered in the instrument PID metadata by HZB staff. As there are usually just a few journal articles to describe a device, and these articles are written by HZB instrument scientists, it scales well to enter the single DOI of the journal article into the instrument DOI metadata.

          <ins>Journal Article → Instrument</ins>
          
          The other way around, it is good practice to formally cite the instrument PID from the journal article in the list of references. Since the example PID 10.5542/NI000001 was chronologically registered after the journal article 10.17815/jlsrf-4-110 was written, it was not possible to formally cite the instrument from the journal article. Nonetheless, we have included how such a citation would be realised in Figure 3 for completeness. 

          <img src="/images/use-cases/instruments-hzb/link_journal_article.jpg" alt="journal_article" width="800"/>

          Figure 3: Connecting a journal article to an instrument via DataCite *relatedIdentifiers* and formal citation.   

  - block: markdown
    content:
        text: |
          ## Connecting a Publication PID to an Instrument PID
          
          Although we do not have a direct example for the connection between the instrument and the publication, here is a short explanation how to link a publication to an instrument: 

          <ins>Publication → Instrument</ins>

          The publication should formally cite the instrument PID in its list of references.  

          <ins>Instrument → Publication</ins>

          The publication may be linked from the instrument via relatedIdentifiers. However, there would be the same scalability issue as with the Instrument → Dataset connection above.
          
          <img src="/images/use-cases/instruments-hzb/link_publication.jpg" alt="publication" width="800"/>

          Figure 4: Connecting a publication to an instrument via formal citation (solid line). The dashed line represents the connection from the instrument to the publication. 

  - block: markdown
    content:
        text: |
          ## Main Takeaways
          
          - If instruments are shared between many scientists, PIDs for instruments should be centrally assigned. This avoids PID duplication, and ensures high-quality instrument PID metadata.
          
          - Registering PIDs for instruments is generally not difficult. But the entry and collection of high-quality metadata requires some resources.
          
          - Instruments should be interlinked with related datasets, journal articles, and publications (where appropriate) to increase the FAIRness of research outputs.
          
          - There are some factors which hinder the consistent linking of instruments and research outputs:
          
            - Lack of knowledge: Researchers often do not know that an instrument, which they have used, has a PID which can be linked/cited from their datasets and publications. Make sure that the instrument PID is included into the landing page of the instrument and that a citation suggestion is given. 
          
            - Non-Scalability: Linking dataset or publication PIDs centrally in the instrument PID often does not scale because this would require quite some effort for collecting datasets and publications and updating instrument metadata records. Hence, it becomes even more important to encourage researchers to link their research outputs to the instrument PID.
          
            - Missing metadata fields: If you run a repository for research data, consider supplying a metadata field to the user where he can enter an instrument PID. Make sure that the instrument PID is correctly ingested to DataCite in the backend.

  - block: markdown
    content:
        text: |
          ## References
          
          ## {#1} 
          
          [1] Kubin, M., & Krahl, R. (2024, May 7). Implementation of PIDs for Instruments at HZB. Zenodo. https://doi.org/10.5281/zenodo.11122075 

          ## {#2}
          
          [2] Krahl, R. (2024, October 10). Persistent Identifiers for Instruments at HZB. Persistent Identifiers for Instruments Community Dialogue, Online. DataCite. https://doi.org/10.5281/zenodo.13910902

           ## {#3}
          
          [3] “Instrument PIDs”: https://docs.pidinst.org/en/latest/white-paper/instrument-pids.html (accessed 14.10.2025)
 
           ## {#4}
          
          [4] “Helmholtz-Zentrum Berlin für Materialien und Energie GmbH”, https://commons.datacite.org/repositories/tib.hzb?resource-type=instrument (accessed 14.10.2025)

           ## {#5}
          
          [5] Krahl, R., Darroch, L., Huber, R., Devaraju, A., Klump, J., Habermann, T., Stocker, M., & RDA PIDINST WG Members. (2022). Metadata Schema for the Persistent Identification of Instruments (1.0). Zenodo. https://doi.org/10.15497/RDA00070 

           ## {#6}
          
          [6] “PIDINST to DataCite Mapping”, https://datacite-metadata-schema.readthedocs.io/en/4.6/mappings/pidinst/ (accessed 14.10.2025)

           ## {#7}
          
          [7] “DataCite JSON metadata of the E2 - Flat-Cone Diffractometer”, https://api.datacite.org/application/vnd.datacite.datacite+json/10.5442/NI000001 (accessed 14.10.2025)
---
